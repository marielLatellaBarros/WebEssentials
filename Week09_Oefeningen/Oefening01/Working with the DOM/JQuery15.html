<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Samples: Fetching data from DOM</title>
    <script src="../../scripts/jquery.js"></script>

    <script> //when the document is loaded, make it do something with a function - USE TRAVERSING and THIS
    // How do we assign different prices to the different vacations? => Add "data-price" attribute the the HTML
    //All data attributes begin with "data-". The data-tag is an html file attribute that provide additional information
    // about the objects on the page.
    //Set data: ".data('name', value)"
    //Get data: ".data('name')"
    //On with a selector: Event delegation


    $(document).ready(function() {
        $('button').on('click', function() {
            //var discount = $(this).closest('.tour').data('discount'); //using code twice
            var tour = $(this).closest('.tour');

            var discount = $(tour).data('discount');
            var message = $('<span>Call 1-555-jquery-air for a $'+discount+' discount.</span>');

            //$(this).closest('.tour').append(message); // using code twice: refactor
            $(tour).append(message);
            $(this).remove();
        });
    });
    </script>

    <style>
        body {
            color: black;
        }
    </style>
</head>

<body>
<div id="tours">
    <h1>Guided Tours</h1>
    <ul>
        <li class="usa tour" data-discount="299">
            <h2>New York, New York</h2>
            <span class="details">$1,899 for 7 nights</span>
            <button class="book">Book Now</button>
        </li>
        <li class="europe tour" data-discount="176">
            <h2>Paris, France</h2>
            <span class="details">$2,299 for 7 nights</span>
            <button class="book">Book Now</button>
        </li>
        <li class="asia tour" data-discount="349">
            <h2>Tokyo, Japan</h2>
            <span class="details">$3,799 for 7 nights</span>
            <button class="book">Book Now</button>
        </li>
    </ul>
</div>

</body>
</html>